## 什么是单例模式


保证某个类在程序中只存在一份实例，而不会创建多个实例，这样就会提高效率。

在单利模式中一般只提供一个getInstance()方法来获取实例对象，不提供setInstance()方法,目的是为了避免再实例化出其他实例对象。

其中单例模式中有两种模式一种是饿汉模式，一种是懒汉模式。



### 恶汉模式
* 饿汉模式就是在类加载的时候立刻会实例化，后续使用就只会出现一份实例。

#### 是否线程安全
* 在类加载的时候就已经实例化了，所以该实例化没有涉及到实例化的修改操作，只是进行读取操作。在多线程情况下是线程安全的。 











### 懒汉模式
* 在类加载的时候没有直接实例化，而是调用指定实例方法的时候再进行实例化，这样就能保证不想使用的时候也不会实例化。一般来说比饿汉模式的效率高。


#### 是否线程安全

**1、导致懒汉模式在多线程情况下的不安全原因**
~~~tex
在多线程的情况下，由于可能两个线程都会得到一份instance=null，这是因为如果线程1修改了自己线程中的instance后还没来得及修改主内存中的instance，所导致线程2也实例化出了一份instance对象，这时候也就不再是单例模式了。主要导致该问题的是由于这里面涉及到了对instance的修改操作，失去了原子性，为了保证原子性，我们想到了加锁，从而实现线程安全问题。
~~~

**2、解决**
~~~tex

~~~

